"use strict";document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("content"),o=document.documentElement.lang,s=o==="en"?"":"/"+o;function r(e){document.querySelectorAll("header nav a").forEach(t=>{t.getAttribute("href")===e?t.setAttribute("data-current","true"):t.removeAttribute("data-current")})}function a(e,n=!0){document.body.classList.add("loading"),fetch(e).then(t=>{if(!t.ok)throw new Error(`Failed to fetch page: ${t.status} ${t.statusText}`);return t.text()}).then(t=>{const c=new DOMParser().parseFromString(t,"text/html").querySelector("#content");if(c)i.innerHTML=c.innerHTML,n&&history.pushState({path:e},"",e),r(e),window.Prism&&window.Prism.highlightAll();else throw new Error("Invalid page content")}).catch(t=>{console.error(t)}).finally(()=>{document.body.classList.remove("loading")})}document.body.addEventListener("click",function(e){const n=e.target.closest("a");if(n&&n.getAttribute("href").startsWith("/")){e.preventDefault();const t=n.getAttribute("href");a(t)}}),window.addEventListener("popstate",e=>{const n=e.state?.path??s+"/";a(n,!1)}),r(window.location.pathname)});
